<div *ngIf="labdetail">
<h2 mat-dialog-title style="font-weight: bold;">{{ labdetail.contract_number }}</h2>

<mat-dialog-content class="mat-typography">
    <h5 style="font-weight: bold; font-size: 14px;">IDENTITY</h5>
    <table cellspacing="0" cellpadding="0" style="margin-bottom: 20px; font-size: 11px;">
        <tr>
            <td style="font-weight:bold; padding-right: 20px; vertical-align: top; ">Customer</td>
            <td style="vertical-align: top; padding-right: 10px;">:</td>
            <td style="vertical-align: top;">{{ labdetail.customers.customer_name }}</td>
        </tr>
        <tr>
            <td  style="font-weight:bold; vertical-align: top;">Received</td>
            <td style="vertical-align: top;">:</td>
            <td style="vertical-align: top;">{{ labdetail.tgl_terima | date }}</td>
        </tr>
        <tr>
            <td  style="font-weight:bold; vertical-align: top;">Estimate</td>
            <td style="vertical-align: top;">:</td>
            <td style="vertical-align: top;">{{ labdetail.estimasi | date }}</td>
        </tr>
        <tr>
            <td  style="font-weight:bold; vertical-align: top;">Employee</td>
            <td style="vertical-align: top;">:</td>
            <td style="vertical-align: top;">{{ labdetail.employee.employee_name  }}</td>
        </tr>
        <tr>
            <td style="font-weight:bold; vertical-align: top;">Memo</td>
            <td style="vertical-align: top;">:</td>
            <td style="vertical-align: top;">{{ labdetail.internal_memo }}</td>
        </tr>
    </table>
    <div fxLayout="row" fxLayoutAlign="start center" >
        <h5 style="font-weight: bold; font-size: 14px; margin-right: 20px;">MEDIA</h5>
        <div style="margin-bottom: 10px;">
            <button mat-icon-button color="white" 
            class="contract-certficate"
            matTooltip="No Action"
            *ngIf="this.checkList.length > 0"
            [@animate]="{value:'*',params:{delay:'150ms',scale:'0.2'}}"
            (click)="cancelChecklist()">
                <mat-icon>fullscreen_exit</mat-icon>
           </button>
            <button mat-icon-button color="white" 
            class="contract-certficate"
            matTooltip="Approve"
            *ngIf="this.checkList.length > 0"
            [@animate]="{value:'*',params:{delay:'150ms',scale:'0.2'}}"
            (click)="approve()">
                <mat-icon>check_circle</mat-icon>
           </button> 
        </div>
    </div>
   
    <mat-table class="mediartu-table" #table [dataSource]="dataMedia" matSort (matSortChange)="sortData($event)"
    [@animateStagger]="{value:'50'}" fusePerfectScrollbar  *ngIf="this.dataMedia.length > 0 && !loadingfirst">

        <!-- Column -->
        <ng-container matColumnDef="checkbox">
            <mat-header-cell *matHeaderCellDef >
                <mat-checkbox class="example-margin"
                (change)="setAll($event.checked)"
                (change)="someComplete()"></mat-checkbox>
            </mat-header-cell>
            <mat-cell *matCellDef="let dataMedia">
                <mat-checkbox class="example-margin" 
                style="margin-left: 11px;"
                (ngModelChange)="updateAllComplete()"
                [(ngModel)]="dataMedia.completed"
               (change)="checkBox($event.checked, dataMedia.id)"></mat-checkbox>
            </mat-cell>
        </ng-container>
    
          <!-- Column -->
        <ng-container matColumnDef="status">
            <mat-header-cell *matHeaderCellDef mat-sort-header="status">Status</mat-header-cell>
            <mat-cell *matCellDef="let dataMedia">
                <div fxLayout="column">
                    <div 
                    class="box-very-urgent"
                    matTooltip="not yet" 
                    *ngIf="dataMedia.status == 0">
                        <p class="text-truncate">not yet</p>
                    </div>
                    <div 
                    class="box-urgent"
                    matTooltip="verification" 
                    *ngIf="dataMedia.status == 1">
                        <p class="text-truncate">verification</p>
                    </div>
                    <div 
                    class="box-normal"
                    matTooltip="verified" 
                    *ngIf="dataMedia.status == 2">
                        <p class="text-truncate">verified</p>
                    </div>
                </div>
            </mat-cell>
        </ng-container>


        <!-- Column -->
        <ng-container matColumnDef="product_name">
            <mat-header-cell *matHeaderCellDef mat-sort-header="product_name">Product</mat-header-cell>
            <mat-cell *matCellDef="let dataMedia">
                <span class="text-truncate" matTooltip="{{ dataMedia.master_media_rtu.product_name }}">{{   dataMedia.master_media_rtu.product_name }}</span>
            </mat-cell>
        </ng-container>

        <!-- Column -->
        <ng-container matColumnDef="kode_media">
            <mat-header-cell *matHeaderCellDef mat-sort-header="kode_media">Media Code</mat-header-cell>
            <mat-cell *matCellDef="let dataMedia">
                <span class="text-truncate" matTooltip="{{  dataMedia.master_media_rtu.kode_media }}">{{  dataMedia.master_media_rtu.kode_media }}</span>
            </mat-cell>
        </ng-container>


        <!-- Column -->
        <ng-container matColumnDef="no_katalog">
            <mat-header-cell *matHeaderCellDef mat-sort-header="no_katalog">Catalogue</mat-header-cell>
            <mat-cell *matCellDef="let dataMedia">
                <span class="text-truncate" matTooltip="{{ dataMedia.master_media_rtu.no_katalog}}">{{ dataMedia.master_media_rtu.no_katalog }}</span>
            </mat-cell>
        </ng-container>


        <!-- Column -->
        <ng-container matColumnDef="kemasan">
            <mat-header-cell *matHeaderCellDef mat-sort-header="kemasan">Pakcaging</mat-header-cell>
            <mat-cell *matCellDef="let dataMedia">
                <div fxLayout="column">
                    <span class="text-truncate" matTooltip="{{ dataMedia.master_media_rtu.kemasan }}">{{ dataMedia.master_media_rtu.kemasan }}</span>
                </div>
            </mat-cell>
        </ng-container>

        <!-- Column -->
        <ng-container matColumnDef="target_bakteria">
            <mat-header-cell *matHeaderCellDef mat-sort-header="ttarget_bakteriaotal">Target</mat-header-cell>
            <mat-cell *matCellDef="let dataMedia">
                <div fxLayout="column">
                    <span class="text-truncate" matTooltip="{{ dataMedia.master_media_rtu.target_bakteria }}">{{ dataMedia.master_media_rtu.target_bakteria }}</span>
                </div>
            </mat-cell>
        </ng-container>
        

        <!-- Column -->
        <ng-container matColumnDef="unit">
            <mat-header-cell *matHeaderCellDef mat-sort-header="unit">Unit</mat-header-cell>
            <mat-cell *matCellDef="let dataMedia">
                <div fxLayout="column">
                    <span class="text-truncate" matTooltip="{{ dataMedia.unit }}">{{ dataMedia.unit }}</span>
                </div>
            </mat-cell>
        </ng-container>    

        <!-- Column -->
        <ng-container matColumnDef="action" >
            <mat-header-cell *matHeaderCellDef mat-sort-header="action" fxHide fxShow.gt-md>Action</mat-header-cell>
            <mat-cell *matCellDef="let dataMedia; let indexOfelement=index;" fxHide fxShow.gt-md>
                <div fxFlex="row" fxLayoutAlign="center center">
                    <button mat-icon-button color="primary" [matMenuTriggerFor]="moreMenu" aria-label="More"
                    (click)="$event.stopPropagation();">
                        <mat-icon  class="secondary-text">more_vert</mat-icon>
                    </button>
                    <mat-menu #moreMenu="matMenu">
                        <button  mat-menu-item aria-label="copy" 
                        class="btn-icon-control"
                        matTooltip="Sample"
                        matTooltip="details">
                            <mat-icon>edit</mat-icon>
                            <span>Update</span>
                        </button>
                    </mat-menu>  
                </div>
            </mat-cell>
        </ng-container>

        

        <mat-header-row *matHeaderRowDef="displayedColumns; sticky:true"></mat-header-row>
        <mat-row *matRowDef="let financeProduct; columns: displayedColumns;" 
        class="standart"
        matRipple>

        </mat-row>
    </mat-table>

    <div>
        <mat-paginator
            [length]="this.total"
            [pageSize]="this.to"
            [pageIndex]="this.current_page"
            hidePageSize="true"
            (page)="pageEvent = $event; paginated($event)"
        >
        </mat-paginator>
    </div>

    <div *ngIf="loadingfirst && this.dataMedia.length === 0" style="width: 20%; margin-left: auto; margin-right: auto; margin-top: auto; margin-bottom: auto; display: block; text-align: center;">
        <img  src="assets/images/gif/loading.gif" />
        <small>Please Wait ...</small>
    </div>

    <div *ngIf="!loadingfirst && this.dataMedia.length === 0" style="width: 20%; margin-left: auto; margin-right: auto; margin-top: auto; margin-bottom: auto; display: block; text-align: center;">
        <img  src="assets/images/gif/selectfile.gif" />
        <small>No Data</small>
    </div>
</mat-dialog-content>
</div>