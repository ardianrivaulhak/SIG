<div
    id="form-leave"
    class="form-leave"
    style="overflow: auto; height: 93vh; background-color: #f7f7f7"
    *ngIf="this.me.length > 0"
>
    <div class="content">
        <mat-card
            class="mat-elevation-z0"
            style="width: 90%; margin: 20px auto 10px auto"
        >
            <mat-card-title>
                <button mat-icon-button [routerLink]="'/hris/leave'">
                    <mat-icon style="margin-bottom: 10px"
                        >keyboard_arrow_left</mat-icon
                    >
                </button>
                <strong>Form Leave</strong>
            </mat-card-title>
            <mat-card-content
                fxLayout="column"
                fxLayoutAlign="space-between none"
            >
                <h2
                    class="text-title"
                    style="margin-top: 20px; font-size: 18px; font-weight: 700"
                >
                    Employee Data
                </h2>
                <!-- <div class="lineborder"></div> -->
            </mat-card-content>
            <div fxLayout="row" fxLayoutAlign="start center">
                <mat-form-field
                    appearance="outline"
                    style="font-size: 11px; margin-right: 10px"
                    fxFlex="50"
                >
                    <mat-label style="color: black">{{
                        this.me[0].nik
                    }}</mat-label>
                    <input style="color: black" matInput disabled />
                </mat-form-field>
                <mat-form-field
                    appearance="outline"
                    style="font-size: 11px"
                    fxFlex="50"
                >
                    <mat-label style="color: black">{{
                        this.me[0].employee_name
                    }}</mat-label>
                    <input style="color: black" matInput disabled />
                </mat-form-field>
            </div>
            <div fxLayout="row" fxLayoutAlign="start center">
                <mat-form-field
                    appearance="outline"
                    style="font-size: 11px; margin-right: 10px"
                    fxFlex="50"
                >
                    <mat-label style="color: black">{{
                        this.me[0].bagian.division_name
                    }}</mat-label>
                    <input style="color: black" matInput disabled />
                </mat-form-field>
                <mat-form-field
                    appearance="outline"
                    style="font-size: 11px"
                    fxFlex="50"
                >
                    <mat-label style="color: black">{{
                        this.me[0].level.level_name
                    }}</mat-label>
                    <input style="color: black" matInput disabled />
                </mat-form-field>
            </div>
            <mat-card-content
                fxLayout="column"
                fxLayoutAlign="space-between none"
            >
                <h2
                    class="text-title"
                    style="margin-top: 20px; font-size: 18px; font-weight: 700"
                >
                    Leave Application
                </h2>
                <!-- <div class="lineborder"></div> -->
            </mat-card-content>
            <div fxLayout="row" fxLayoutAlign="start center">
                <mat-form-field
                    appearance="outline"
                    fxFlex="100"
                    style="font-size: 11px; margin-right: 10px"
                >
                    <mat-label>Select an option</mat-label>
                    <mat-select 
                        required
                        [(value)]="selected"
                        [(ngModel)]="this.sendingDet.status_leave"    
                    >
                        <mat-option>None</mat-option>
                        <mat-option value="1">Sick(S)</mat-option>
                        <mat-option value="13">Leave(C)</mat-option>
                        <mat-option value="8">Off(O)</mat-option>
                        <mat-option value="4"
                            >Leave On Permission(I)</mat-option
                        >
                        <mat-option value="7"
                            >Late on Permission(IL)</mat-option
                        >
                        <mat-option value="6"
                            >Leave Early on Permission(IP)</mat-option
                        >
                        <mat-option value="25">Dinas Luar Kantor(D)</mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
            <div fxLayout="row" fxLayoutAlign="start center">
                <mat-form-field
                    appearance="outline"
                    style="font-size: 11px; margin-right: 10px"
                    fxFlex="50"
                >
                    <mat-label>Date</mat-label>
                    <input 
                        required
                        matInput 
                        [matDatepicker]="dp1" 
                        [(ngModel)]="this.sendingDet.start_date"  />
                    <mat-datepicker-toggle
                        matSuffix
                        [for]="dp1"
                    ></mat-datepicker-toggle>
                    <mat-datepicker #dp1></mat-datepicker>
                </mat-form-field>
                <mat-form-field
                    appearance="outline"
                    style="font-size: 11px"
                    fxFlex="50"
                >
                    <mat-label>Till Date</mat-label>
                    <input 
                        required
                        matInput 
                        [matDatepicker]="dp2"  
                        [(ngModel)]="this.sendingDet.end_date"
                    />
                    <mat-datepicker-toggle
                        matSuffix
                        [for]="dp2"
                    ></mat-datepicker-toggle>
                    <mat-datepicker #dp2></mat-datepicker>
                </mat-form-field>
            </div>
            <div fxLayout="row" fxLayoutAlign="start center">
                <mat-form-field
                    appearance="outline"
                    style="font-size: 11px; margin-right: 10px"
                    fxFlex="50"
                >
                    <mat-label>Time</mat-label>
                    <input
                        style="color: black"
                        matInput
                        type="time"
                        name="time"
                        required
                        value="08:00:00"
                        [(ngModel)]="this.sendingDet.clock_in"
                    />
                </mat-form-field>
                <mat-form-field
                    appearance="outline"
                    style="font-size: 11px"
                    fxFlex="50"
                >
                    <mat-label>Until Time</mat-label>
                    <input
                        style="color: black"
                        matInput
                        type="time"
                        name="time"
                        required
                        value="17:00:00"
                        [(ngModel)]="this.sendingDet.clock_out"
                    />
                </mat-form-field>
            </div>
            <div fxLayout="row" fxLayoutAlign="center">
                <mat-form-field
                    appearance="outline"
                    style="font-size: 11px"
                    floatLabel="always"
                    fxFlex="100"
                >
                    <mat-label>Description Leave</mat-label>
                    <textarea matInput rows="6" required minlength="50" [(ngModel)]="this.sendingDet.desc"> </textarea>
                </mat-form-field>
            </div>
            <mat-card-content
                fxLayout="column"
                fxLayoutAlign="space-between none"
            >
                <div fxLayout="row" fxLayoutAlign="center">
                    <button
                        mat-raised-button
                        color="primary"
                        fxFlex="15"
                        fxFlex.xs="15"
                        style="height: 40px; width: 250px; margin-right: 10px"
                        (click)="savingdata()"
                    >
                        Apply
                    </button>
                    <button
                        mat-stroked-button
                        color="primary"
                        fxFlex="15"
                        fxFlex.xs="15"
                        style="height: 40px"
                        [routerLink]="'/hris/leave'"
                    >
                        Cancel
                    </button>
                </div>
            </mat-card-content>
        </mat-card>
    </div>
</div>
<div
    *ngIf="this.me.length === 0"
    style="
        width: 65%;
        margin-left: auto;
        margin-right: auto;
        margin-top: auto;
        margin-bottom: auto;
        display: block;
        text-align: center;
    "
>
    <medium>Please Wait ...</medium>
</div>
